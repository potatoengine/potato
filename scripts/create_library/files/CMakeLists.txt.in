cmake_minimum_required(VERSION 3.11)
project(@NAME@ VERSION 0.1 LANGUAGES CXX)

add_library(@NAME@)
add_library(potato::@NAME@ ALIAS @NAME@)

target_sources(@NAME@ PRIVATE
    "private/@NAME@.cpp"
)

include(up_set_common_properties)
up_set_common_properties(@NAME@)

target_link_libraries(@NAME@
    PUBLIC
        potato::runtime
        potato::spud
)

add_executable(test_potato_@NAME@
    "tests/main.cpp""
)

include(up_set_common_properties)
up_set_common_properties(test_potato_@NAME@)

target_link_libraries(test_potato_@NAME@ PRIVATE
    @NAME@
    doctest
)

add_test(NAME test_potato_@NAME@ COMMAND test_potato_@NAME@)
